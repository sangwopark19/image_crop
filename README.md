# ğŸ“· í¬í† ì¹´ë“œ ìë™ í¬ë¡­ í”„ë¡œê·¸ë¨

ì•„ì´ëŒ ê³ í™”ì§ˆ ì‚¬ì§„ì„ í¬í† ì¹´ë“œ ê·œê²©(55x85mm, 550x850px)ì— ë§ì¶° ìë™ìœ¼ë¡œ í¬ë¡­í•˜ëŠ” í”„ë¡œê·¸ë¨ì…ë‹ˆë‹¤.

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

- **ì–¼êµ´ ìë™ ê°ì§€**: Google MediaPipeë¥¼ ì‚¬ìš©í•œ ì •í™•í•œ ì–¼êµ´ ì¸ì‹
- **ìŠ¤ë§ˆíŠ¸ í¬ë¡­**: ëˆˆ ìœ„ì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìì—°ìŠ¤ëŸ¬ìš´ í¬í† ì¹´ë“œ êµ¬ë„
- **ì¡°ì ˆ ê°€ëŠ¥í•œ íŒŒë¼ë¯¸í„°**: 
  - `zoom_factor`: ì–¼êµ´ í¬ê¸° ëŒ€ë¹„ í”„ë ˆì„ ë¹„ìœ¨
  - `eye_position`: ëˆˆì˜ ì„¸ë¡œ ìœ„ì¹˜ ë¹„ìœ¨
- **ì§€ëŠ¥í˜• íŒ¨ë”©**: ì´ë¯¸ì§€ ê²½ê³„ ì´ˆê³¼ ì‹œ í°ìƒ‰/í‰ê· ìƒ‰/ë¯¸ëŸ¬ íŒ¨ë”© ì ìš©
- **ëŒ€ëŸ‰ ì²˜ë¦¬**: ìˆ˜ì²œ ì¥ì˜ ì´ë¯¸ì§€ë¥¼ í´ë” ë‹¨ìœ„ë¡œ ì¼ê´„ ì²˜ë¦¬

## ğŸš€ ë¹ ë¥¸ ì‹œì‘ (ARM Mac)

ARM Mac (M1/M2/M3/M4) ì‚¬ìš©ìëŠ” ë¯¸ë¦¬ ë¹Œë“œëœ ì•±ì„ ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

1. `PhotoCardCrop_v1.1.dmg` íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ
2. DMG íŒŒì¼ì„ ì—´ê³  `PhotoCardCrop.app`ì„ Applications í´ë”ë¡œ ë“œë˜ê·¸
3. ì•± ì‹¤í–‰ í›„ ë°”ë¡œ ì‚¬ìš©

> âš ï¸ ì²˜ìŒ ì‹¤í–‰ ì‹œ "í™•ì¸ë˜ì§€ ì•Šì€ ê°œë°œì" ê²½ê³ ê°€ ë‚˜íƒ€ë‚  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
> `ì‹œìŠ¤í…œ ì„¤ì • > ê°œì¸ì •ë³´ ë³´í˜¸ ë° ë³´ì•ˆ`ì—ì„œ "í™•ì¸ ì—†ì´ ì—´ê¸°"ë¥¼ í´ë¦­í•˜ì„¸ìš”.

---

## ğŸ› ï¸ ì„¤ì¹˜ (ì†ŒìŠ¤ì—ì„œ ì‹¤í–‰)

### 1. Python í™˜ê²½ ì¤€ë¹„ (3.8 ì´ìƒ ê¶Œì¥)

```bash
# ê°€ìƒí™˜ê²½ ìƒì„± (ì„ íƒ)
python -m venv venv
source venv/bin/activate  # macOS/Linux
# ë˜ëŠ”
venv\Scripts\activate  # Windows
```

### 2. ì˜ì¡´ì„± ì„¤ì¹˜

```bash
pip install -r requirements.txt
```

## ğŸ“– ì‚¬ìš©ë²•

### ë‹¨ì¼ ì´ë¯¸ì§€ ì²˜ë¦¬

```bash
# ê¸°ë³¸ ì‚¬ìš©
python main.py -i input.jpg -o output.jpg

# íŒŒë¼ë¯¸í„° ì¡°ì •
python main.py -i input.jpg -o output.jpg --zoom 3.0 --eye-position 0.35
```

### í´ë” ì¼ê´„ ì²˜ë¦¬

```bash
# ê¸°ë³¸ ì‚¬ìš© (í•˜ìœ„ í´ë” í¬í•¨)
python main.py -d ./input_folder -o ./output_folder

# íŒŒë¼ë¯¸í„° ì¡°ì •í•˜ì—¬ ì²˜ë¦¬
python main.py -d ./input_folder -o ./output_folder --zoom 2.5 --eye-position 0.4
```

## âš™ï¸ ì£¼ìš” íŒŒë¼ë¯¸í„°

| íŒŒë¼ë¯¸í„° | ì„¤ëª… | ê¸°ë³¸ê°’ | ê¶Œì¥ ë²”ìœ„ |
|---------|------|--------|----------|
| `--zoom`, `-z` | ì–¼êµ´ í¬ê¸° ëŒ€ë¹„ í”„ë ˆì„ ë¹„ìœ¨<br>ê°’ì´ í´ìˆ˜ë¡ ì–¼êµ´ì´ ì‘ê²Œ ë³´ì„ | 2.8 | 2.5 ~ 3.5 |
| `--eye-position`, `-e` | ëˆˆì˜ ì„¸ë¡œ ìœ„ì¹˜ (ìœ„ì—ì„œë¶€í„°)<br>0.4 = ìœ„ì—ì„œ 40% ì§€ì  | 0.4 | 0.3 ~ 0.5 |
| `--padding`, `-p` | íŒ¨ë”© ìƒ‰ìƒ ëª¨ë“œ | white | white, average, mirror |
| `--format`, `-f` | ì¶œë ¥ ì´ë¯¸ì§€ í¬ë§· | jpg | jpg, png, webp |
| `--quality`, `-q` | ì¶œë ¥ í’ˆì§ˆ (1-100) | 95 | 85 ~ 100 |

### íŒŒë¼ë¯¸í„° ì¡°ì • ê°€ì´ë“œ

#### zoom_factor ì¡°ì ˆ ì˜ˆì‹œ

```
zoom=2.5  â†’  ì–¼êµ´ì´ í¬ê²Œ (í´ë¡œì¦ˆì—…)
zoom=2.8  â†’  ê¸°ë³¸ê°’ (ì ë‹¹í•œ ì—¬ë°±)
zoom=3.5  â†’  ì–¼êµ´ì´ ì‘ê²Œ (ë„“ì€ ì—¬ë°±)
```

#### eye_position ì¡°ì ˆ ì˜ˆì‹œ

```
eye_position=0.30  â†’  ëˆˆì´ ìœ„ìª½ (ì´ë§ˆ ì—¬ë°± ì ìŒ)
eye_position=0.40  â†’  ê¸°ë³¸ê°’ (ê· í˜•ì¡íŒ êµ¬ë„)
eye_position=0.50  â†’  ëˆˆì´ ì•„ë˜ìª½ (ì´ë§ˆ ì—¬ë°± ë§ìŒ)
```

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
image_crop/
â”œâ”€â”€ main.py              # í”„ë¡œê·¸ë¨ ì‹¤í–‰ ì§„ì…ì  (CLI)
â”œâ”€â”€ requirements.txt     # í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬
â”œâ”€â”€ README.md           # ì‚¬ìš© ì„¤ëª…ì„œ
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ cropper.py      # ì´ë¯¸ì§€ ì²˜ë¦¬ í•µì‹¬ ë¡œì§
â””â”€â”€ utils/
    â”œâ”€â”€ __init__.py
    â””â”€â”€ file_handler.py # íŒŒì¼ ì…ì¶œë ¥ ê´€ë¦¬
```

## ğŸ’¡ Python ì½”ë“œë¡œ ì§ì ‘ ì‚¬ìš©

```python
from core.cropper import PhotoCardCropper
from utils.file_handler import FileHandler, BatchProcessor

# í¬ë¡œí¼ ì´ˆê¸°í™”
cropper = PhotoCardCropper(
    zoom_factor=2.8,       # ì–¼êµ´ í¬ê¸° ë¹„ìœ¨
    eye_position=0.4,      # ëˆˆ ìœ„ì¹˜ (ìœ„ì—ì„œ 40%)
    padding_mode='white',  # íŒ¨ë”© ìƒ‰ìƒ
    fallback_on_no_face=True  # ì–¼êµ´ ë¯¸ê°ì§€ ì‹œ ì¤‘ì•™ í¬ë¡­
)

# ë‹¨ì¼ ì´ë¯¸ì§€ ì²˜ë¦¬
result = cropper.process_image('input.jpg')

# ì €ì¥
import cv2
cv2.imwrite('output.jpg', result)
```

### ëŒ€ëŸ‰ ì²˜ë¦¬

```python
from core.cropper import PhotoCardCropper
from utils.file_handler import FileHandler, BatchProcessor

# ì´ˆê¸°í™”
cropper = PhotoCardCropper(zoom_factor=2.8)
file_handler = FileHandler(
    input_dir='./input_folder',
    output_dir='./output_folder',
    output_format='jpg',
    output_quality=95
)

# ë°°ì¹˜ í”„ë¡œì„¸ì„œë¡œ ì¼ê´„ ì²˜ë¦¬
batch_processor = BatchProcessor(file_handler, cropper)
stats = batch_processor.process_batch()

print(f"ì„±ê³µ: {stats['success']}, ì‹¤íŒ¨: {stats['failed']}")
```

## âš ï¸ ì£¼ì˜ì‚¬í•­

- ì…ë ¥ ì´ë¯¸ì§€ëŠ” ê³ í™”ì§ˆ(1000px ì´ìƒ)ì„ ê¶Œì¥í•©ë‹ˆë‹¤
- ì–¼êµ´ì´ ëª…í™•í•˜ê²Œ ë³´ì´ëŠ” ì‚¬ì§„ì—ì„œ ìµœì ì˜ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤
- ë‹¨ì²´ ì‚¬ì§„ì˜ ê²½ìš° ê°€ì¥ í° ì–¼êµ´ì„ ê¸°ì¤€ìœ¼ë¡œ í¬ë¡­ë©ë‹ˆë‹¤

## ğŸ”§ ë¬¸ì œ í•´ê²°

### ì–¼êµ´ì„ ì°¾ì§€ ëª»í•˜ëŠ” ê²½ìš°

1. ì´ë¯¸ì§€ í•´ìƒë„ê°€ ë„ˆë¬´ ë‚®ì§€ ì•Šì€ì§€ í™•ì¸
2. ì–¼êµ´ì´ ë„ˆë¬´ ì‘ê±°ë‚˜ ì¸¡ë©´ì´ ì•„ë‹Œì§€ í™•ì¸
3. `--skip-no-face` ì˜µì…˜ìœ¼ë¡œ ê±´ë„ˆë›°ê¸° ë˜ëŠ” ê¸°ë³¸ê°’ì¸ ì¤‘ì•™ í¬ë¡­ ì ìš©

### ë©”ëª¨ë¦¬ ë¶€ì¡±

- ëŒ€ëŸ‰ì˜ ê³ í•´ìƒë„ ì´ë¯¸ì§€ ì²˜ë¦¬ ì‹œ ë°œìƒ ê°€ëŠ¥
- í´ë”ë¥¼ ë‚˜ëˆ ì„œ ì²˜ë¦¬í•˜ê±°ë‚˜ ì´ë¯¸ì§€ í•´ìƒë„ë¥¼ ë‚®ì¶°ì£¼ì„¸ìš”

## ğŸ“ ë¼ì´ì„ ìŠ¤

MIT License
